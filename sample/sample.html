<html>
<head>
	<script type="text/javascript" src="../lib/dummy-listeners.js"></script>
</head>
<body>
<script type="text/javascript">

var obj = {
	name: 'a'
};

var listener = function(name, oldVal, newVal) {
	alert(name + ': ' + oldVal + ' -> ' + newVal);
};

// Listen to changes to existing fields
obj.addListener('name', listener);

// Or for fields that don't exist yet
obj.addListener('size', listener);

obj.name = 'b';
obj.size = 10;

// It won't notify when setting same value
obj.name = 'b';

obj.removeListener('size', listener);

obj.name = 'c';
obj.size = 20;

</script>
</body>
</html>